<div class="container-fluid">

<div style="text-align:center">
<!-- ...........carruse................ -->
<div class="carrusel">
  <div ng2-carouselamos class = 'slider'
  [items]='items'
  [width]='900'
  [$prev]= 'prev'
  [$next] ='next'
  [$item]= 'item'
  ></div>
  <ng-template #prev>
    <img src="/assets/images/if_icon-ios7-arrow-back_211686.png" id="left" />
  </ng-template>

  <ng-template #next>
    <img src="/assets/images/if_icon-ios7-arrow-forward_211688 (1).png" id="ridth" />
  </ng-template>

  <ng-template #item let-item let-i="index">
    <div class="items">
      <img src="{{item.name}}" >

    </div>
  </ng-template>
</div>
<!-- ..............carrusel............. -->


<div class="panel panel-primary">
  <div class="panel-heading">
    <h2> Hi, <mark>{{ currentUser.username }}</mark> welcome back, are you ready for a new ride? </h2>
  </div>

  <div class="panel-body">
<button class="btn btn-primary" data-toggle="modal" data-target=".bd-example-modal-lg">  Add Ride</button>
  <!-- <button *ngIf="!isShowingForm" (click)="showRideForm()">

  </button> -->


    <input id="ride-name" placeholder="ride name" placeholder="find a ride"
    type="text" [(ngModel)]="pattern">
  </div>
</div>




  <!-- modal create rides -->

  <p *ngIf = "saveError" class = "error">
    {{saveError}}
  </p>
  <div class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">

<form (ngSubmit) = "saveNewRide()">
  <label for="ride-name-input"> Ride Name </label>
  <input type = "text" id="ride-name-input"
  placeholder=" tour de france" [(ngModel)] = "rideInfo.rideName" name = "rideName">
  <br>
  <label for="ride-distance-input"> miles  </label>
  <input type = "text" id="ride-distance-input" placeholder=" 100"
  [(ngModel)] = "rideInfo.rideDistance" name = "rideDistance">
  <br>
  <label for="ride-category-input"> category  </label>
  <input type = "text" id="ride-category-input" placeholder=" A B or C"
   [(ngModel)] = "rideInfo.rideCategory" name = "rideCategory">
  <br>
  <label for="ride-date-input">Enter  date of the ride</label>
  <input id="ride-date-input" type="date"
  [(ngModel)] = "rideInfo.rideDate" name = "rideDate">
 <br>


    <button> Save Ride </button>
</form>
</div>
  </div>
</div>

<!-- create a new ride end -->


<!-- panel primario -->


 <div *ngIf="currentUser">
   <!-- leave current user just in case -->
 <!-- <pre> {{ user | json }} </pre> -->
 </div>


 <h3>ride list</h3>
 <p *ngIf="rideListError" class="error">
   {{ rideListError }}
 </p>

 <hr>
 <hr>

<div class="row">
 <ul>
  <li class="col-sm-3 " id= "eachRide" *ngFor="let oneRide of rideArray| filter:'name':pattern">
    <h3> {{ oneRide.name }} </h3>
    <p>
    Owned by:
    <b *ngIf="oneRide.user?._id !== currentUser._id">
      {{ oneRide.user.username }}
    </b>
    <b *ngIf="oneRide.user?._id === currentUser._id">
      YOU
    </b>
    </p>
    <p>
      distance: {{ oneRide.distance}} miles
      <br>
      category : {{oneRide.category}}
      <br>
      date : {{oneRide.date|date:'dd/MM/yyyy'}}
    </p>
      <a [routerLink]="['profile', oneRide.user._id]"> profile </a>
      <br>
    <a [routerLink]="['rides', oneRide._id]"> View Details </a>

   <p>map</p>
   <agm-map [latitude]="lat" [longitude]="lng"(mapClick)= "pointRide($event)">
   <agm-marker [latitude]="lat" [longitude]="lng" ></agm-marker>
   <agm-marker [latitude]="lat1" [longitude]="lng1" ></agm-marker>
   </agm-map>
  </li>
</ul>
</div>


</div>
</div>
